{"version":3,"sources":["../../src/pages/canteen/feedback-canteen/feedback-canteen.module.ts","../../src/pages/canteen/feedback-canteen/feedback-canteen.ts","../../src/services_canteen/scale-up-leave.transition.ts","../../src/services_canteen/ModalScaleUpEnterTransition.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACS;AAClB;AAC2D;AACE;AAUpG;IACE,mCAAmB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;QAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,wDAAoB,GAA5B;QACI,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,sBAAsB,EAAE,gHAA2B,CAAC,CAAC;QAC/E,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,sBAAsB,EAAE,kHAA2B,CAAC,CAAC;IACnF,CAAC;IARY,yBAAyB;QARrC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,8EAAmB;aACpB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,8EAAmB,CAAC;aAC9C;SACF,CAAC;yCAE2B,6DAAM;OADtB,yBAAyB,CASrC;IAAD,gCAAC;CAAA;AATqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfI;AACkE;AACvC;AAGrE;;;;;GAKG;AAcH;IAcE,6BAAmB,OAAsB,EAAS,SAAoB,EAAQ,MAAa,EAChF,WAAuB,EACzB,KAAsB,EAAQ,WAA6B;QAFpE,iBAoEC;QApEkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAQ,WAAM,GAAN,MAAM,CAAO;QAChF,gBAAW,GAAX,WAAW,CAAY;QACzB,UAAK,GAAL,KAAK,CAAiB;QAAQ,gBAAW,GAAX,WAAW,CAAkB;QAdpE,oBAAe,GAAmC;YAChD,EAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,iBAAiB,EAAC;YACvC,EAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,iBAAiB,EAAC;YACvC,EAAC,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,aAAa,EAAC;YACzC,EAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,eAAe,EAAC;SACxC,CAAC;QAUE,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,UAAU;QACV,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,gBAAgB;SAC1B,CAAC,CAAC;QAEH,OAAO,CAAC,OAAO,EAAE,CAAC;QAGlB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE;aAC7C,eAAe,EAAE,CAAC,GAAG,CAAE,iBAAO;YAC7B,MAAM,CAAC,OAAO,CAAC,GAAG,CAAE,WAAC,IAAE,mBACrB,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,IAAK,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EACtC,EAFqB,CAErB,CAAC,CAAC;QACN,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE5B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,UAAC,KAAK;YAC7B,KAAI,CAAC,KAAK,GAAC,KAAK,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;YACxB,KAAI,CAAC,IAAI,GAAC,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YAC/B,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,GAAY,CAAC;YACjB,IAAI,CAAU,CAAC;YACf,GAAG,EAAgB,UAAU,EAAV,UAAI,CAAC,KAAK,EAAV,cAAU,EAAV,IAAU;gBAAzB,IAAI,OAAO;gBAEb,GAAG,GAAC,CAAC,CAAC;gBACN,CAAC,GAAC,CAAC,CAAC;gBAEJ,EAAE,EAAC,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,CAC7B,CAAC;oBACC,GAAG,EAAa,UAAiB,EAAjB,YAAO,CAAC,SAAS,EAAjB,cAAiB,EAAjB,IAAiB;wBAA7B,IAAI,IAAI;wBAEV,EAAE,EAAC,IAAI,CAAC,MAAM,IAAE,SAAS,CAAC,CAC1B,CAAC;4BACC,GAAG,IAAG,IAAI,CAAC,IAAI,CAAC;4BAChB,CAAC,EAAE,CAAC;wBACN,CAAC;qBACF;oBAED,EAAE,EAAC,CAAC,IAAE,CAAC,CAAC,CACR,CAAC;wBACC,OAAO,CAAC,WAAW,GAAE,GAAG,GAAC,CAAC,CAAE;oBAC9B,CAAC;oBACD,IAAI,CACJ,CAAC;wBACC,OAAO,CAAC,WAAW,GAAC,CAAC,CAAC;oBACxB,CAAC;gBAGH,CAAC;gBACD,IAAI,CACJ,CAAC;oBACC,OAAO,CAAC,WAAW,GAAC,CAAC,CAAC;gBACxB,CAAC;aACF;YAGD,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;QAE1B,CAAC,CAAC;QAEF,OAAO,CAAC,OAAO,EAAE,CAAC;IAEpB,CAAC;IAED,4CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;IACpD,CAAC;IAED,kDAAoB,GAApB;QACE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,wBAAwB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACxE,CAAC;IAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA6BE;IACF,sCAAQ,GAAR,UAAS,IAAW,EAAC,MAAc;QAMjC,IAAM,MAAM,GAAE;YACZ,WAAW,EAAE,IAAI;YACjB,WAAW,EAAE,MAAM;SACpB,CAAC;QAEF,IAAM,OAAO,GAAS,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,iCAAiC,EAAE,EAAC,IAAI,EAAE,MAAM,EAAC,EACzF;YACE,QAAQ,EAAE,UAAU;SAGrB,CAAC,CAAC;QAEH,OAAO,CAAC,OAAO,EAAE,CAAC;QAElB,OAAO,CAAC,YAAY,CAAC,UAAC,IAAI;YACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC;IACJ,CAAC;IAjJY,mBAAmB;QAT/B,wEAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;WACG;SACrC,CAAC;gGAoB2F;YACpE,sEAAW;YAClB,eAAe,CAAqC;OAhBzD,mBAAmB,CAmJ/B;IAAD,CAAC;AAAA;SAnJY,mBAAmB,gB;;;;;;;;;;;;;;;;;;;;ACxB0B;AAE1D;IAAiD,+CAAc;IAA/D;;IAmBA,CAAC;IAjBM,0CAAI,GAAX;QACI,IAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,aAAa,CAAC;QACrD,IAAM,OAAO,GAAG,IAAI,gEAAS,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAC7E,IAAM,cAAc,GAAG,IAAI,gEAAS,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;QAE9E,OAAO,CAAC,YAAY,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;QAChE,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QACtD,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAChC,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAEvC,IAAI;aACC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;aACnC,QAAQ,CAAC,GAAG,CAAC;aACb,MAAM,CAAC,6BAA6B,CAAC;aACrC,GAAG,CAAC,cAAc,CAAC;aACnB,GAAG,CAAC,OAAO,CAAC,CAAC;IACtB,CAAC;IACD,kCAAC;AAAD,CAAC,CAnBgD,qEAAc,GAmB9D;;;;;;;;;;;;;;;;;;;;;;ACrByD;AAE1D;IAAiD,+CAAc;IAA/D;;IAgBA,CAAC;IAdM,0CAAI,GAAX;QACI,IAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,aAAa,CAAC;QACtD,IAAM,OAAO,GAAG,IAAI,gEAAS,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAE7E,OAAO,CAAC,YAAY,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;QAChE,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QACtD,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAEhC,IAAI;aACC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;aACpC,QAAQ,CAAC,GAAG,CAAC;aACb,MAAM,CAAC,6BAA6B,CAAC;aACrC,GAAG,CAAC,OAAO,CAAC,CAAC;IACtB,CAAC;IACD,kCAAC;AAAD,CAAC,CAhBgD,qEAAc,GAgB9D","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FeedbackCanteenPage } from './feedback-canteen';\nimport { Config } from 'ionic-angular';\nimport { ModalScaleUpLeaveTransition } from '../../../services_canteen/scale-up-leave.transition';\nimport { ModalScaleUpEnterTransition } from '../../../services_canteen/ModalScaleUpEnterTransition';\n\n@NgModule({\n  declarations: [\n    FeedbackCanteenPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FeedbackCanteenPage),\n  ],\n})\nexport class FeedbackCanteenPageModule {\n  constructor(public config: Config) {\n    this.setCustomTransitions();\n}\n\nprivate setCustomTransitions() {\n    this.config.setTransition('modal-scale-up-leave', ModalScaleUpLeaveTransition);\n    this.config.setTransition('modal-scale-up-enter', ModalScaleUpEnterTransition);\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/canteen/feedback-canteen/feedback-canteen.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events,  ModalController, Modal, LoadingController} from 'ionic-angular';\nimport { MealService } from '../../../services_canteen/meal.service';\nimport { Meal } from '../../../models/meal.model';\n\n/**\n * Generated class for the FeedbackCanteenPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-feedback-canteen',\n  templateUrl: 'feedback-canteen.html',\n})\n\n\n\n\n\nexport class FeedbackCanteenPage {\n\n  sideMenuContent: {name: string, path: string}[] = [\n    {name: 'Home', path: 'CanteenHomePage'},\n    {name: 'Menu', path: 'MenuCanteenPage'},\n    {name: 'Mon compte', path: 'AccountPage'},\n    {name: 'test', path: 'TestmodalPage'}\n];\n\n\nmealList$:any;\nmeals: any;\nmeal:any[];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public events:Events\n    ,private mealservice:MealService\n  ,private modal: ModalController,public loadingCtrl:LoadingController) {\n    this.setupSideMenuContent();\n\n    //loading \n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n  \n    loading.present();\n\n\n    this.mealList$ = this.mealservice.getAllmeal()\n    .snapshotChanges().map( changes=>{\n      return changes.map( c=>({\n        key: c.payload.key, ...c.payload.val(),\n      }));\n    });\n    console.log(this.mealList$);\n    \n    this.mealList$.subscribe((value)=>{\n      this.meals=value;\n      console.log(this.meals);\n      this.meal=this.meals.reverse();\n      console.log(this.meal);\n      let sum : number;\n      let i : number;\n      for(let element of this.meals)\n      {\n        sum=0;\n        i=0;\n        \n        if(element.feedbacks != null)\n        {\n          for(let feed of element.feedbacks)\n          {\n            if(feed.userID!='canteen')\n            {\n              sum+= feed.rate;\n              i++;\n            }\n          }\n\n          if(i!=0)\n          {\n            element.moyennefeed= sum/i ;\n          }\n          else\n          {\n            element.moyennefeed=0;\n          }\n          \n        \n        }\n        else\n        {\n          element.moyennefeed=0;\n        }\n      }\n        \n      \n      console.log(this.meals);\n      \n    })\n\n    loading.dismiss();\n    \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FeedbackCanteenPage');\n  }\n\n  setupSideMenuContent() {\n    this.events.publish('sideMenu:changeContent', this.sideMenuContent);\n}\n\n/*\nopenMenu() {\n  let actionSheet = this.actionSheetCtrl.create({\n    title: 'Modify your album',\n    \n    buttons: [\n      {\n        text: 'Destructive',\n        role: 'html',\n        handler: () => {\n          console.log('Destructive clicked');\n        }\n      },{\n        text: '<ion-list><ion-list-header>Recent Conversations</ion-list-header><ion-item><ion-avatar item-start><img src=\"assets/img/avatar-finn.png\"></ion-avatar><h2>Finn</h2><h3>I\\'m a big deal</h3><p>Listen, I\\'ve had a pretty messed up day...</p></ion-item>',\n        role: 'component',\n        handler: () => {\n          console.log('Archive clicked');\n        }\n      },{\n        text: 'Cancel',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }\n    ]\n  });\n  actionSheet.present();\n}\n*/\nopenMenu(meal : Meal,iduser: string)\n{\n\n \n  \n\n  const myData= {\n    commentmeal: meal,\n    commentuser: iduser\n  };\n\n  const mymodal :Modal= this.modal.create('ModalPageCommentaireConteenPage', {data: myData},\n  {\n    cssClass: \"my-modal\",\n    \n   \n  });\n\n  mymodal.present();\n\n  mymodal.onDidDismiss((data)=> {\n    console.log(data);\n  })\n}\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/canteen/feedback-canteen/feedback-canteen.ts","import { Animation, PageTransition } from 'ionic-angular';\r\n\r\nexport class ModalScaleUpLeaveTransition extends PageTransition {\r\n\r\npublic init() {\r\n    const ele = this.leavingView.pageRef().nativeElement;\r\n    const wrapper = new Animation(this.plt, ele.querySelector('.modal-wrapper'));\r\n    const contentWrapper = new Animation(this.plt, ele.querySelector('.wrapper'));\r\n\r\n    wrapper.beforeStyles({ 'transform': 'scale(0)', 'opacity': 1 });\r\n    wrapper.fromTo('transform', 'scale(1)', 'scale(5.0)');\r\n    wrapper.fromTo('opacity', 1, 1);\r\n    contentWrapper.fromTo('opacity', 1, 0);\r\n\r\n    this\r\n        .element(this.leavingView.pageRef())\r\n        .duration(100)\r\n        .easing('cubic-bezier(.1, .7, .1, 1)')\r\n        .add(contentWrapper)\r\n        .add(wrapper);\r\n}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services_canteen/scale-up-leave.transition.ts","import { Animation, PageTransition } from 'ionic-angular';\r\n\r\nexport class ModalScaleUpEnterTransition extends PageTransition {\r\n\r\npublic init() {\r\n    const ele = this.enteringView.pageRef().nativeElement;\r\n    const wrapper = new Animation(this.plt, ele.querySelector('.modal-wrapper'));\r\n\r\n    wrapper.beforeStyles({ 'transform': 'scale(1)', 'opacity': 1 });\r\n    wrapper.fromTo('transform', 'scale(0)', 'scale(5.0)');\r\n    wrapper.fromTo('opacity', 1, 1);\r\n\r\n    this\r\n        .element(this.enteringView.pageRef())\r\n        .duration(100)\r\n        .easing('cubic-bezier(.1, .7, .1, 1)')\r\n        .add(wrapper);\r\n}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services_canteen/ModalScaleUpEnterTransition.ts"],"sourceRoot":""}