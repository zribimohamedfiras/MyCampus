{"version":3,"sources":["../../src/pages/cafeteria/StudentCafeteria/orders/orders.module.ts","../../src/pages/cafeteria/StudentCafeteria/orders/orders.ts"],"names":[],"mappings":"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","file":"40.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrdersPage } from './orders';\n\n@NgModule({\n  declarations: [\n    OrdersPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrdersPage),\n  ],\n})\nexport class OrdersPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cafeteria/StudentCafeteria/orders/orders.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\nimport {  ToastService} from '../../../../servicesCafeteria/toast.service';\nimport { Observable } from 'rxjs/Observable';\nimport { AfterViewInit } from '@angular/core';\nimport {  ProductListService} from '../../../../servicesCafeteria/product-list/product-list.service';\nimport { Product } from '../../../../models/product.model';\nimport { Order } from '../../../../models/order.model';\nimport {  OrderListService} from '../../../../servicesCafeteria/product-list/order-list-service';\n\n/**\n * Generated class for the OrdersPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-orders',\n  templateUrl: 'orders.html',\n})\nexport class OrdersPage {\n\n  sideMenuContent: {name: string, path: string}[] = [\n    {name: 'Gestion Produits', path: 'GestionProduitPage'},\n    {name: 'Accueil', path: 'CafeteriaHomePage'},\n    {name: 'Mon compte', path: 'AccountPage'}\n];\n\n\nlength: number;\n\norders: any = [];\nordersProduct:any []=[]\nproducts: Product[] = [];\ntotalPrice:number;\ncolors:string[]=['gray','brown','danger','blue'];\ncurrentDate;\n\no: Order = {\n    userID: undefined,\n    panier: undefined,\n    dateOrder: undefined,\n    status:undefined\n};\nconstructor(\npublic navCtrl: NavController,\npublic navParams: NavParams,\nprivate product:ProductListService,\nprivate order:OrderListService,\nprivate toast:ToastService,\npublic events: Events) {\n    \n    this.setupSideMenuContent();   \n    this.getFormattedDate();\n    \n    \n}\nsetupSideMenuContent() {\nthis.events.publish('sideMenu:changeContent', this.sideMenuContent);\n}\n\ngetFormattedDate(){\n    var ob= new Date()\n    var year = ob.getFullYear().toString()\n    var month = ob.getMonth().toString()\n    var day = ob.getDay().toString()\n    this.currentDate= year + '-'+ month + '-' + day;\n    }\n\nngOnInit() {\n    this.length = 0;\n    this.totalPrice=0;\n    var prices=0;\n    this.order\n        .getOrderList()//db list\n        .snapshotChanges()//key and value\n        //foreach changes return an object \n        .map(changes => {\n            return changes.map(c => ({\n                key: c.payload.key, ...c.payload.val()\n            }))\n        }).subscribe(\n        res => {\n            this.orders = res;   \n            for (let ord of this.orders) {\n              console.log(ord);\n              for(let o of ord.panier){\n                  this.ordersProduct.push(o);           \n              }    \n          }      \n          console.log('trah');\n          console.log(this.colors);\n          console.log(this.ordersProduct)\n          \n        },\n        error => {\n            console.log('error');\n        });\n\n        this.product\n        .getProductList()//db list\n        .snapshotChanges()//key and value\n        //foreach changes return an object \n        .map(changes => {\n            return changes.map(c => ({\n                key: c.payload.key, ...c.payload.val()\n            }))\n        }).subscribe(\n        res => {\n            this.products = res;\n            console.log(this.length);\n            for (let i = 0; i < this.products.length; i++) {\n                if (this.products[i].category !==\"fastfood\" || this.products[i].type !== \"supplements\") {\n                    this.products.splice(i, 1);\n                    i--;\n                } \n            }\n       \n        },\n        error => {\n            console.log('error');\n        });\n       \n       \n      \n}\n\naccordionClick(event: any, index: number,o:Order) {\n    let panel = <HTMLElement>document.getElementsByClassName('panel')[index];\n    console.log(panel);\n    event.target.classList.toggle('active');\n    if (panel.style.maxHeight) {\n        panel.style.maxHeight = null;\n    } else {\n        panel.style.maxHeight = panel.scrollHeight + 'px';\n    }\n}\n\n\nionViewDidLoad() {\n\n}\n\n\nshownGroup = null;\ntoggleGroup(group) {\nif (this.isGroupShown(group)) {\n    this.shownGroup = null;\n} else {\n    this.shownGroup = group;\n}\n};\nisGroupShown(group) {\nreturn this.shownGroup === group;\n};\n\n\n\n\n\nonRemove(o:Order){\n  this.order.remove(o).then(()=>{\n  this.toast.show(`Commande supprime avec succes!`);\n  this.navCtrl.setRoot('PanierPage');\n});\n}\n\n\nonEditItem(o: Order){\nthis.order.editItem(o);\nthis.toast.show(`Commande modifie avec succes!`);\nthis.navCtrl.setRoot('PanierPage');\n}\n\nproductDetails(p,o){\n \n  this.navCtrl.setRoot('ProductDetailsPage',{panier:p ,order:o});\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cafeteria/StudentCafeteria/orders/orders.ts"],"sourceRoot":""}