{"version":3,"sources":["../../src/pages/canteen/modal-page-commentaire-conteen/modal-page-commentaire-conteen.module.ts","../../src/pages/canteen/modal-page-commentaire-conteen/modal-page-commentaire-conteen.ts"],"names":[],"mappings":"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","file":"31.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalPageCommentaireConteenPage } from './modal-page-commentaire-conteen';\n\n@NgModule({\n  declarations: [\n    ModalPageCommentaireConteenPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalPageCommentaireConteenPage),\n  ],\n})\nexport class ModalPageCommentaireConteenPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/canteen/modal-page-commentaire-conteen/modal-page-commentaire-conteen.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, Modal, ModalController } from 'ionic-angular';\nimport { Meal } from '../../../models/meal.model';\nimport { MealService } from '../../../services_canteen/meal.service';\nimport { ToastService } from '../../../servicesCafeteria/toast.service';\n\n/**\n * Generated class for the ModalPageCommentaireConteenPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-modal-page-commentaire-conteen',\n  templateUrl: 'modal-page-commentaire-conteen.html',\n})\nexport class ModalPageCommentaireConteenPage {\n\n  data : any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n  private view : ViewController,private modal: ModalController,\n  private mealserv:MealService,public toast: ToastService) {\n\n    \n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ModalPageCommentaireConteenPage');\n  }\n\n  ionViewWillLoad()\n  {\n    this.data =this.navParams.get('data');\n    console.log(this.data.commentmeal);\n  }\n\n  dismiss()\n  {\n    \n    this.view.dismiss();\n  }\n\n  repondrecomment(commentaire : any)\n  {\n    console.log(commentaire.comment);\n\n    const myData= {\n      commentmeal: this.data.commentmeal,\n      commentuser: this.data.commentuser,\n      commentaires: commentaire\n    };\n\n    if(myData.commentuser=='canteen')\n    {\n      console.log('canteen');\n      let mealo :Meal = myData.commentmeal;\n      if(mealo.feedbacks==null)\n      {\n        mealo.feedbacks=[];\n\n      }\n      let dt= new Date().toString();\n    \n      mealo.feedbacks.push({userID:myData.commentuser , content:commentaire.comment, rate: 7, date: dt });\n      console.log(mealo.feedbacks);\n\n      this.mealserv.editmeal(mealo).then(()=>{\n        console.log(`Commentaire ajouter avec succes!`);\n      });\n\n    }\n    else\n    {\n      const mymodal :Modal= this.modal.create('PopupCommentPage', {data: myData},\n      {\n         cssClass: \"my-popup-modal\",\n      \n      });\n  \n      mymodal.present();\n  \n      mymodal.onDidDismiss((value)=> {\n        this.data.commentmeal= value;\n      })\n\n    }\n  \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/canteen/modal-page-commentaire-conteen/modal-page-commentaire-conteen.ts"],"sourceRoot":""}